<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Quittungen des Fördervereins Evangelische KiTa Spielberg e.V.</title>
    <meta name="keywords" content="Drucken, Quittung, Quittungen, ausdrucken, online">
    <meta name="description" content="Quittungen des Fördervereins Evangelische KiTa Spielberg e.V.">
    
	<meta property="og:url" content="https://quittung-fveks.github.io/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Quittungen des Fördervereins Evangelische KiTa Spielberg e.V.">
    <meta property="og:description" content="Quittungen des Fördervereins Evangelische KiTa Spielberg e.V.">

    
	<!-- <link rel="stylesheet" type="text/css" href="styles/formate.css"> -->
    <style>
.visually-hidden {
    display: none;
}

/* Harmonized: Use classes instead of IDs for layout/styling elements */
.iblau {
    background-color: #ccd3ea;
    border: 0px;
    color: black;
    font-family: "Arial", Arial, sans-serif;
    font-size: 11pt;
    text-align: right;
}
.iblaul {
    background-color: #ccd3ea;
    border: 0px;
    color: black;
    font-family: "Arial", Arial, sans-serif;
    font-size: 11pt;
}
.itrans {
    background-color: transparent;
    border: 0px;
    color: black;
    font-family: "Arial", Arial, sans-serif;
    font-size: 11pt;
}
.titel {
    font-size: 22px;
    font-family: "Arial", Arial, sans-serif;
    color: #5066a8;
    font-weight: bold;
}
.textg {
    font-size: 11px;
    font-family: "Arial", Arial, sans-serif;
    color: #5066a8;
    height: 1em;
}
.textk {
    font-size: 10px;
    font-family: "Arial", Arial, sans-serif;
    color: #5066a8;
    margin-left: 5px;
    height: 1em;
}

/* Main table backgrounds and borders */
.rahmenau,
.rahmenau-auszahlung {
    border-width: 1px;
    border-style: solid;
    border-color: black;
    background-image: url('../bilder/raute.png');
    background-repeat: repeat;
}

td {
    padding-left: 5px;
}

input[type="text"] {
    border: none;
    background-color: transparent;
    color: inherit;
    font-family: "Comic Sans MS", "Patrick Hand", "Segoe Script", "Bradley Hand", cursive, sans-serif;
    font-size: inherit;
    outline: none;
}

/* Table cell borders and backgrounds */
.rahmenliob {
    border-bottom-width: 0px;
    border-right-width: 0px;
    border-top-width: 1px;
    border-left-width: 1px;
    border-style: solid;
    border-color: #5066a8;
    background-color: #ccd3ea;
}
.rahmenlioub {
    border-bottom-width: 1px;
    border-right-width: 0px;
    border-top-width: 1px;
    border-left-width: 1px;
    border-style: solid;
    border-color: #5066a8;
    background-color: #ccd3ea;
}
.rahmenlio {
    border-bottom-width: 0px;
    border-right-width: 0px;
    border-top-width: 1px;
    border-left-width: 1px;
    border-style: solid;
    border-color: #5066a8;
}
.rahmenliou {
    border-bottom-width: 1px;
    border-right-width: 0px;
    border-top-width: 1px;
    border-left-width: 1px;
    border-style: solid;
    border-color: #5066a8;
}
.rahmeno {
    border-bottom-width: 0px;
    border-right-width: 0px;
    border-top-width: 1px;
    border-left-width: 0px;
    border-top-style: solid;
    border-color: #5066a8;
}

/* Steuerung/Buttons section */
.steuerung {
    /* nothing special, but class for harmony */
}

/* Print styles */
@media print {
    .steuerung {
        display: none;
    }
    #signature,
    #signature-auszahlung {
        border: 1px solid #888 !important;
        display: inline-block !important;
    }
    #clearSignature,
    #clearSignatureAuszahlung {
        display: none !important;
    }
    .rahmenau,
    .rahmenau-auszahlung {
        background-image: url('../bilder/raute.png') !important;
        background-repeat: repeat !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
}
</style>
</head>
<body>
    <main>
        <!-- Umschalt-Button -->
        <div style="text-align:center; margin-bottom: 1em;">
            <button id="switchBtn" type="button">Zur Auszahlungsquittung wechseln</button>
        </div>
        <!-- Quittung -->
        <section id="quittungSection">
            <table width="672" height="508" border="0" class="rahmenau">
                <!-- 517 * 1.3 ≈ 672, 391 * 1.3 ≈ 508 -->
                <tr>
                    <td align="center">
                        <table width="671" height="507" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed">
                            <!-- 516 * 1.3 ≈ 671, 390 * 1.3 ≈ 507 -->
                            <tr>
                                <td rowspan="11" style="width:56">
                                </td>
                                <td colspan="2" align="right" width="453"><span class="titel">Quittung</span></td>
                                <td rowspan="11">
                                    
                                    <img src="bilder/leer.gif" width="7" height="1" alt="" border="0">
                                </td>
                            </tr>
                            <tr>
                                <td width="217" rowspan="2" valign="top">
                                    <img src="bilder/fveks_text.png" alt="Förderverein Evangelische KiTa Spielberg e.V. Logo" style="margin-bottom: 12px; max-width: 170px;">
                                   
                                </td>
                                <td class="rahmenliob" width="236" height="35">
                                    <form id="eingabe" autocomplete="off">
                                        <label for="netto"><span class="textg">Netto EUR</span></label>
                                        <input type="text" maxlength="13" name="netto" id="netto" style="width:110px">
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td class="rahmenlioub" width="236" height="37">
                                    <label for="prozent"><span class="textg">+ %MwSt.</span></label>
                                    <input type="text" maxlength="4" name="prozent" id="prozent" style="width:30px">
                                    <br>
                                    <label for="mwst"><span class="textg">+ EUR</span></label>
                                    <input type="text" maxlength="13" name="mwst" id="mwst" style="width:100px">
                                </td>
                            </tr>
                            <tr>
                                <td class="rahmenlio">
                                    <label for="nr"><span class="textg">Nr.</span></label>
                                    <input type="text" maxlength="20" name="nr" id="nr" style="width:180px">
                                </td>
                                <td class="rahmenliob" width="236">
                                    <label for="gesamt"><span class="textg">Gesamt EUR</span></label>
                                    <input type="text" maxlength="13" name="gesamt" id="gesamt" style="width:110px">
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenliob" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px"><span class="textg">EUR<br>in Worten</span></td>
                                            <td>
                                                <label for="worte" class="visually-hidden">Betrag in Worten</label>
                                                <input type="text" name="worte" id="worte" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenlio" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px" valign="top"><span class="textg">von</span></td>
                                            <td>
                                                <label for="von" class="visually-hidden">Von</label>
                                                <input type="text" name="von" id="von" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                             <tr valign="top" style="height:30px;">
                                <td class="rahmenlio" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px" valign="top"><span class="textg">an (optional)</span></td>
                                            <td>
                                                <label for="an" class="visually-hidden">An</label>
                                                <input type="text" name="an" id="an" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenlio" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px" valign="top"><span class="textg">für</span></td>
                                            <td>
                                                <label for="fuer" class="visually-hidden">Für</label>
                                                <input type="text" name="fuer" id="fuer" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr style="height:30px;">
                                <td class="rahmenlio" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="width:70px;"><img src="bilder/leer.gif" width="70" height="10" alt=""></td>
                                            <td>
                                                <label for="fuer2" class="visually-hidden">Für 2</label>
                                                <input type="text" name="fuer2" id="fuer2" style="width:263px" maxlength="32">
                                            </td>
                                            <td style="height:30px; width:100px"><span class="textg">dankend erhalten.</span></td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenliou" colspan="2">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px" valign="top"><span class="textg">Ort/Datum</span></td>
                                            <td>
                                                <label for="ort" class="visually-hidden">Ort</label>
                                                <input type="text" name="ort" id="ort" style="width:263px" maxlength="32">
                                            </td>
                                            <td style="width:100px" align="right">
                                                <label for="datum" class="visually-hidden">Datum</label>
                                                <input type="text" name="datum" id="datum" style="width:90px" maxlength="10">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr valign="top">
                                <td width="217" class="rahmeno"><span class="textk">Buchungsvermerke</span></td>
                                <td width="236" class="rahmeno">
                                    <span class="textk">Stempel/Unterschrift des Empfängers</span>
                                    <br>
                                    <!-- Signature canvas -->
                                    <canvas id="signature" width="220" height="60" style="border:1px solid #888; touch-action: none;"></canvas>
                                    <br>
                                    <button type="button" id="clearSignature">Unterschrift löschen</button>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2"><img src="bilder/leer.gif" width="1" height="33" alt=""></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </section>
        <!-- Auszahlungsquittung -->
        <section id="auszahlungsquittungSection" style="display:none;">
            <table width="672" height="508" border="0" class="rahmenau-auszahlung">
                <tr>
                    <td align="center">
                        <table width="671" height="507" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed">
                            <tr>
                                <td colspan="4" align="right" width="453">
                                    <span class="titel">Auszahlungsquittung</span>
                                </td>
                            </tr>
                            <tr>
                                <td width="217" rowspan="2" valign="top">
                                    <img src="bilder/fveks_text.png" alt="Förderverein Evangelische KiTa Spielberg e.V. Logo" style="margin-bottom: 12px; max-width: 170px;">
                                </td>
                                <td class="rahmenliob" width="236" height="35" colspan="3">
                                    <label for="auszahlungsbetrag"><span class="textg">Auszahlungsbetrag EUR</span></label>
                                    <input type="text" maxlength="13" name="auszahlungsbetrag" id="auszahlungsbetrag" style="width:110px">
                                </td>
                            </tr>
                            <tr>
                                <td class="rahmenliob" width="236" height="37" colspan="3">
                                    <label for="auszahlungsnr"><span class="textg">Nr.</span></label>
                                    <input type="text" maxlength="20" name="auszahlungsnr" id="auszahlungsnr" style="width:180px">
                                    &nbsp;
                                    <label for="auszahlungsdatum"><span class="textg">Datum</span></label>
                                    <input type="text" maxlength="13" name="auszahlungsdatum" id="auszahlungsdatum" style="width:110px">
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenliob" colspan="4">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px"><span class="textg">EUR<br>in Worten</span></td>
                                            <td>
                                                <label for="auszahlungsworte" class="visually-hidden">Betrag in Worten</label>
                                                <input type="text" name="auszahlungsworte" id="auszahlungsworte" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <!-- Grund der Auszahlung jetzt unter EUR in Worten -->
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenliob" colspan="4">
                                    <label for="auszahlungsgrund"><span class="textg">Grund der Auszahlung</span></label>
                                    <input type="text" maxlength="45" name="auszahlungsgrund" id="auszahlungsgrund" style="width:450px">
                                </td>
                            </tr>
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenlio" colspan="4">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:70px" valign="top"><span class="textg">Empfänger</span></td>
                                            <td>
                                                <label for="auszahlungsempfaenger" class="visually-hidden">Empfänger</label>
                                                <input type="text" name="auszahlungsempfaenger" id="auszahlungsempfaenger" style="width:363px" maxlength="45">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <!-- Neues Feld: Ausgezahlt von -->
                            <tr valign="top" style="height:30px;">
                                <td class="rahmenlio" colspan="4">
                                    <table border="0" style="table-layout:fixed" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td style="height:30px; width:120px" valign="top"><span class="textg">Ausgezahlt von</span></td>
                                            <td>
                                                <label for="ausgezahltvon" class="visually-hidden">Ausgezahlt von</label>
                                                <input type="text" name="ausgezahltvon" id="ausgezahltvon" style="width:313px" maxlength="45" value="Kassenwart *Simon Kloker)">
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr valign="top">
                                <td width="217" class="rahmeno"><span class="textk">Buchungsvermerke</span></td>
                                <td width="236" class="rahmeno" colspan="3">
                                    <span class="textk">Stempel/Unterschrift des Empfängers</span>
                                    <br>
                                    <canvas id="signature-auszahlung" width="220" height="60" style="border:1px solid #888; touch-action: none;"></canvas>
                                    <br>
                                    <button type="button" id="clearSignatureAuszahlung">Unterschrift löschen</button>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4"><img src="bilder/leer.gif" width="1" height="33" alt=""></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </section>
        <section>
            <table width="517" border="0" cellspacing="0" cellpadding="0" class="steuerung">
                <tr>
                    <td align="center">
                        <br>
                        <form id="knoepfe">
                            <input type="button" value="Löschen" id="resetBtn">
                            &nbsp;&nbsp;
                            <input type="button" value="Drucken" id="printBtn">
                            &nbsp;&nbsp;
                            <input type="button" value="Senden" id="sendBtn">
                        </form>
                    </td>
                </tr>
            </table>
        </section>
    </main>
    <script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
    // --- Helper: German number to words ---
    function numberToGermanWords(num) {
        let n = Math.floor(num);
        let cents = Math.round((num - n) * 100);
        let words = getWords(n) + ' Euro';
        if (cents > 0) words += ' und ' + getWords(cents) + ' Cent';
        return words;
    }
    function getWords(n) {
        const units = ['null','eins','zwei','drei','vier','fünf','sechs','sieben','acht','neun'];
        const teens = ['zehn','elf','zwölf','dreizehn','vierzehn','fünfzehn','sechzehn','siebzehn','achtzehn','neunzehn'];
        const tens = ['','','zwanzig','dreißig','vierzig','fünfzig','sechzig','siebzig','achtzig','neunzig'];
        let words = '';
        if (n < 10) words = units[n];
        else if (n < 20) words = teens[n-10];
        else if (n < 100) {
            words = (n%10 === 0 ? '' : units[n%10] + 'und') + tens[Math.floor(n/10)];
        } else if (n < 1000) {
            words = units[Math.floor(n/100)] + 'hundert';
            if (n%100 !== 0) words += getWords(n%100);
        } else if (n < 10000) {
            words = units[Math.floor(n/1000)] + 'tausend';
            if (n%1000 !== 0) words += getWords(n%1000);
        } else {
            words = n.toString();
        }
        return words;
    }

    // --- Helper: Set date and number fields ---
    function setDateAndNumber(dateFieldId, nrFieldId) {
        const today = new Date();
        const datum = today.toLocaleDateString('de-DE');
        document.getElementById(dateFieldId).value = datum;
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        document.getElementById(nrFieldId).value = `${yyyy}-${mm}-${dd}-0001`;
    }

    // --- Helper: Signature Pad ---
    function initSignaturePad(canvasId, clearBtnId) {
        const canvas = document.getElementById(canvasId);
        const ctx = canvas.getContext('2d');
        let drawing = false;
        function unfocusInputs() {
            const active = document.activeElement;
            if (active && active.tagName === 'INPUT' && active.type === 'text') {
                active.blur();
            }
        }
        function getPos(e) {
            if (e.touches) {
                return {
                    x: e.touches[0].clientX - canvas.getBoundingClientRect().left,
                    y: e.touches[0].clientY - canvas.getBoundingClientRect().top
                };
            } else {
                return {
                    x: e.clientX - canvas.getBoundingClientRect().left,
                    y: e.clientY - canvas.getBoundingClientRect().top
                };
            }
        }
        function startDraw(e) {
            drawing = true;
            unfocusInputs();
            const pos = getPos(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            e.preventDefault();
        }
        function draw(e) {
            if (!drawing) return;
            const pos = getPos(e);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
            e.preventDefault();
        }
        function endDraw(e) {
            drawing = false;
            e.preventDefault();
        }
        // Mouse events
        canvas.addEventListener('mousedown', startDraw);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', endDraw);
        canvas.addEventListener('mouseleave', endDraw);
        // Touch events
        canvas.addEventListener('touchstart', startDraw);
        canvas.addEventListener('touchmove', draw);
        canvas.addEventListener('touchend', endDraw);
        // Clear button
        document.getElementById(clearBtnId).addEventListener('click', function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });
    }

    // --- Main Quittung ---
    document.getElementById('prozent').value = 0;
    document.getElementById('ort').value = 'Karlsbad';
    document.getElementById('an').value = 'Förderverein Evangelische KiTa Spielberg e.V.';
    document.getElementById('netto').focus();
    setDateAndNumber('datum', 'nr');
    function updateFields() {
        const netto = parseFloat(document.getElementById('netto').value.replace(',', '.')) || 0;
        const prozent = parseFloat(document.getElementById('prozent').value.replace(',', '.')) || 0;
        const mwst = netto * prozent / 100;
        const gesamt = netto + mwst;
        document.getElementById('mwst').value = mwst ? mwst.toFixed(2).replace('.', ',') : '';
        document.getElementById('gesamt').value = gesamt ? gesamt.toFixed(2).replace('.', ',') : '';
        document.getElementById('worte').value = gesamt ? numberToGermanWords(gesamt) : '';
    }
    document.getElementById('netto').addEventListener('input', updateFields);
    document.getElementById('prozent').addEventListener('input', updateFields);
    updateFields();

    // --- Auszahlungsquittung ---
    setDateAndNumber('auszahlungsdatum', 'auszahlungsnr');
    document.getElementById('ausgezahltvon').value = 'Kassenwart *Simon Kloker)';
    function updateAuszahlungsWorte() {
        const betrag = parseFloat(document.getElementById('auszahlungsbetrag').value.replace(',', '.')) || 0;
        document.getElementById('auszahlungsworte').value = betrag ? numberToGermanWords(betrag) : '';
    }
    document.getElementById('auszahlungsbetrag').addEventListener('input', updateAuszahlungsWorte);

    // --- Signature Pads ---
    initSignaturePad('signature', 'clearSignature');
    initSignaturePad('signature-auszahlung', 'clearSignatureAuszahlung');

    // --- Button actions ---
    document.getElementById('resetBtn').addEventListener('click', function () {
        document.getElementById('eingabe').reset();
        document.getElementById('prozent').value = 0;
        document.getElementById('ort').value = 'Karlsbad';
        document.getElementById('an').value = 'Förderverein Evangelische KiTa Spielberg e.V.';
        document.getElementById('netto').focus();
        setDateAndNumber('datum', 'nr');
        updateFields();
    });

    document.getElementById('printBtn').addEventListener('click', function () {
        window.print();
        document.getElementById('netto').focus();
    });

    // Send button logic
    document.getElementById('sendBtn').addEventListener('click', function () {
        fetch('email-content.html')
            .then(response => response.text())
            .then(emailBody => {
                const subject = encodeURIComponent('Deine Quittung vom Förderverein Evangelische KiTa Spielberg e.V.');
                const cc = 'simon.kloker@mail.de';
                const body = encodeURIComponent(emailBody + '\n\nBitte füge die PDF-Quittung als Anhang hinzu.');
                window.location.href = `mailto:?subject=${subject}&cc=${cc}&body=${body}`;
            })
            .catch(() => {
                const subject = encodeURIComponent('Deine Quittung vom Förderverein Evangelische KiTa Spielberg e.V.');
                const cc = 'simon.kloker@mail.de';
                const body = encodeURIComponent('Hallo, anbei findest du deine Quittung. Viele Grüße\n\nBitte füge die PDF-Quittung als Anhang hinzu.');
                window.location.href = `mailto:?subject=${subject}&cc=${cc}&body=${body}`;
            });
    });

    // Umschalt-Logik
    const quittungSection = document.getElementById('quittungSection');
    const auszahlungsquittungSection = document.getElementById('auszahlungsquittungSection');
    const switchBtn = document.getElementById('switchBtn');

    switchBtn.addEventListener('click', function () {
        if (quittungSection.style.display !== 'none') {
            quittungSection.style.display = 'none';
            auszahlungsquittungSection.style.display = '';
            switchBtn.textContent = 'Zur Quittung wechseln';
        } else {
            quittungSection.style.display = '';
            auszahlungsquittungSection.style.display = 'none';
            switchBtn.textContent = 'Zur Auszahlungsquittung wechseln';
        }
    });
});
</script>
</body>
</html>
